#GCP 

Google公式ドキュメントによると、フレキシブル環境は次のようなニーズに適している。

## フレキシブル環境を選択する場合

アプリケーション インスタンスは、Compute Engine 仮想マシン（VM）上の Docker コンテナ内で実行されます。

一定したトラフィックを受信する、定期的にトラフィックの変動がある、または徐々にスケールアップやスケールダウンするパラメータを満たすアプリケーション。

フレキシブル環境は、次の特性を持つアプリケーションに適しています。

-   ソースコードが、次のサポートされているプログラミング言語のいずれかのバージョンで記述されている。  
    **Python**、**Java**、**Node.js**、**Go**、**Ruby**、**PHP**、**.NET**
-   **他のプログラミング言語**で書かれたカスタム ランタイムやソースコードを含む、Docker コンテナで実行する。
-   **ネイティブ コード**を含むフレームワークを使用するか、それに依存する。
-   **Compute Engine ネットワーク**にある Google Cloud プロジェクトのリソースまたはサービスにアクセスする。

[[Standard]]環境では、Pythonなどのバージョンを細かく設定できなかったが、[[Flexible]]環境は[[Docker]]ベースなのでそのあたりの設定も柔軟。

## フレキシブル環境と Compute Engine との比較

App Engine フレキシブル環境には、Compute Engine との間に次のような違いがあります。

-   フレキシブル環境の VM インスタンスは毎週再起動します。再起動中に、Google の管理サービスがオペレーティング システムとセキュリティの更新を適用します。
    
-   Compute Engine VM インスタンスにはルート権限でアクセスできます。デフォルトでは、フレキシブル環境の VM インスタンスへの SSH アクセスは無効になっています。アプリの VM インスタンスに対するルートアクセスを有効にすることもできます。
    
-   Cloud Build サービスを使用してコンテナ イメージを構築すると、コードのデプロイに時間がかかる可能性があります。
    
-   フレキシブル環境の VM インスタンスの地理的なリージョンは、Cloud プロジェクトの [App Engine アプリケーション](https://cloud.google.com/appengine/docs/locations?hl=ja)に指定した場所によって決まります。Google の管理サービスは、VM インスタンスを同じ場所に配置して最適なパフォーマンスを得られるようにします。

## app.yaml

```yaml:app.yaml

# T.B.D.

```